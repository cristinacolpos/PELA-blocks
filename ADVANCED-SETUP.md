# PELA Blocks

See also the [Slicer Recommendations](SLICER_RECOMMENDATIONS) printing information.

## Advanced Setup

Instructions are for Windows, however Linux and OSX are esssentially the same but scripts to automate batch building are not provided.

## Backing Up Your Calibration Files

Copy your calibration files and any .json parameter adjustment files you have created to another directory before update to a newer version of PELA-blocks, you might overwrite your calibration customizations. 

1. `cd PELA-parametric-blocks`
1. `cp material.scad ..`
1. `cp *.json ..`

## GIT LFS and Sparce Checkout

This saves time when the models have been updated through multiple iterations on the server. You may need to install git lfs separately.

1. `git lfs init`
1. `git config core.sparcecheckout true`
1. Create `.git\info\sparce-checkout` with the following 3 lines:

    `/*` 

    `*.stl` 

    `*.png`

## Compress and clean STL files from the command line

OpenSCAD exports large text files which 2x larger than binary STL. They may also contain mistakes (non-manifold, etc). Usually your slicer can handle this just fine.

Cleaning and compressing the STL before slicing is optional but may help if you Slicer complains about the file. A quick solution is to load and re-save the file generated by OpenSCAD in [Windows 3D Builder](https://www.microsoft.com/store/apps/9wzdncrfj3t6) (Open the file, Click `YES` to fix, then `CTRL S` to save over the original file), [Meshlab](http://www.meshlab.net/) or [Meshmixer](http://www.meshmixer.com/download.html).

It is also possible to setup a batch process to clean and re-save multiple `.STL` files using Meshlab. We used to do this but simplified it away as it adds little value. If you know of a better batch tool for cleaning files, please let us know.